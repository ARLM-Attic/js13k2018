const letters = {
  'A': [
    [, 1],
    [1, , 1],
    [1, , 1],
    [1, 1, 1],
    [1, , 1]
  ],
  'B': [
    [1, 1],
    [1, , 1],
    [1, 1, 1],
    [1, , 1],
    [1, 1]
  ],
  'C': [
    [1, 1, 1],
    [1],
    [1],
    [1],
    [1, 1, 1]
  ],
  'D': [
    [1, 1],
    [1, , 1],
    [1, , 1],
    [1, , 1],
    [1, 1]
  ],
  'E': [
    [1, 1, 1],
    [1],
    [1, 1, 1],
    [1],
    [1, 1, 1]
  ],
  'F': [
    [1, 1, 1],
    [1],
    [1, 1],
    [1],
    [1]
  ],
  'G': [
    [, 1, 1],
    [1],
    [1, , 1, 1],
    [1, , , 1],
    [, 1, 1]
  ],
  'H': [
    [1, , 1],
    [1, , 1],
    [1, 1, 1],
    [1, , 1],
    [1, , 1]
  ],
  'I': [
    [1, 1, 1],
    [, 1],
    [, 1],
    [, 1],
    [1, 1, 1]
  ],
  'J': [
    [1, 1, 1],
    [, , 1],
    [, , 1],
    [1, , 1],
    [1, 1, 1]
  ],
  'K': [
    [1, , , 1],
    [1, , 1],
    [1, 1],
    [1, , 1],
    [1, , , 1]
  ],
  'L': [
    [1],
    [1],
    [1],
    [1],
    [1, 1, 1]
  ],
  'M': [
    [1, 1, 1, 1, 1],
    [1, , 1, , 1],
    [1, , 1, , 1],
    [1, , , , 1],
    [1, , , , 1]
  ],
  'N': [
    [1, , , 1],
    [1, 1, , 1],
    [1, , 1, 1],
    [1, , , 1],
    [1, , , 1]
  ],
  'O': [
    [1, 1, 1],
    [1, , 1],
    [1, , 1],
    [1, , 1],
    [1, 1, 1]
  ],
  'P': [
    [1, 1, 1],
    [1, , 1],
    [1, 1, 1],
    [1],
    [1]
  ],
  'Q': [
    [0, 1, 1],
    [1, , , 1],
    [1, , , 1],
    [1, , 1, 1],
    [1, 1, 1, 1]
  ],
  'R': [
    [1, 1],
    [1, , 1],
    [1, , 1],
    [1, 1],
    [1, , 1]
  ],
  'S': [
    [1, 1, 1],
    [1],
    [1, 1, 1],
    [, , 1],
    [1, 1, 1]
  ],
  'T': [
    [1, 1, 1],
    [, 1],
    [, 1],
    [, 1],
    [, 1]
  ],
  'U': [
    [1, , 1],
    [1, , 1],
    [1, , 1],
    [1, , 1],
    [1, 1, 1]
  ],
  'V': [
    [1, , , , 1],
    [1, , , , 1],
    [, 1, , 1],
    [, 1, , 1],
    [, , 1]
  ],
  'W': [
    [1, , , , 1],
    [1, , , , 1],
    [1, , , , 1],
    [1, , 1, , 1],
    [1, 1, 1, 1, 1]
  ],
  'X': [
    [1, , , , 1],
    [, 1, , 1],
    [, , 1],
    [, 1, , 1],
    [1, , , , 1]
  ],
  'Y': [
    [1, , 1],
    [1, , 1],
    [, 1],
    [, 1],
    [, 1]
  ],
  'Z': [
    [1, 1, 1, 1, 1],
    [, , , 1],
    [, , 1],
    [, 1],
    [1, 1, 1, 1, 1]
  ],
  '0': [
    [1, 1, 1],
    [1, , 1],
    [1, , 1],
    [1, , 1],
    [1, 1, 1]
  ],
  '1': [
    [, 1],
    [, 1],
    [, 1],
    [, 1],
    [, 1]
  ],
  '2': [
    [1,1,1],
    [0,0,1],
    [1,1,1],
    [1,0,0],
    [1,1,1]
  ],
  '3':[
    [1,1,1],
    [0,0,1],
    [1,1,1],
    [0,0,1],
    [1,1,1]
  ],
  '4':[
    [1,0,1],
    [1,0,1],
    [1,1,1],
    [0,0,1],
    [0,0,1]
  ],
  '5':[
    [1,1,1],
    [1,0,0],
    [1,1,1],
    [0,0,1],
    [1,1,1]
  ],
  '6':[
    [1,1,1],
    [1,0,0],
    [1,1,1],
    [1,0,1],
    [1,1,1]
  ],
  '7':[
    [1,1,1],
    [0,0,1],
    [0,0,1],
    [0,0,1],
    [0,0,1]
  ],
  '8':[
    [1,1,1],
    [1,0,1],
    [1,1,1],
    [1,0,1],
    [1,1,1]
  ],
  '9':[
    [1,1,1],
    [1,0,1],
    [1,1,1],
    [0,0,1],
    [1,1,1]
  ],
  '?': [
    [1,1,1],
    [ , ,1],
    [1,1,1],
    [,,],
    [1,,],
  ],
  '!': [
    [,1,],
    [,1,],
    [,1,],
    [,,],
    [,1,],
  ],
  '-': [
    [,,],
    [,,],
    [1,1,1],
  ],
  '.': [
    [,,],
    [,,],
    [,,],
    [,,],
    [1,,],
  ],
  ',': [
    [,,],
    [,,],
    [,,],
    [,1,],
    [1,,],
  ],
  '^': [
    [,1,],
    [1,1,1],
    [,1,],
    [,1,],
    [,1,],
  ],
  '&': [
    [,1,],
    [,1,],
    [,1,],
    [1,1,1],
    [,1,],
  ],
  '<': [
    [,,],
    [,1,],
    [1,,],
    [,1,],
    [,,],
  ],
  '>': [
    [,,],
    [,1,],
    [,,1],
    [,1,],
    [,,],
  ],
  ':': [
    [,,],
    [,1,],
    [,,],
    [,1,],
  ],
  '/': [
    [,,],
    [,,1],
    [,1,],
    [1,,],
  ],
  '\'': [
    [1,,],
    [1,,],
  ],
  ' ': [
    [, ,],
    [, ,],
    [, ,],
    [, ,],
    [, ,]
  ],
};

const canvas = document.getElementById('text');
const context = canvas.getContext('2d');

function clearAllText() {
  context.clearRect(0, 0, canvas.width, canvas.height);
}

function clearTextBox() {
  context.clearRect(0, 325, canvas.width, 150);
}

function clearLvl5() {
  context.clearRect(0, 0, 250, 50);
  context.clearRect(180, 50, 30, 25);
}

function drawText(string, size, xx, yy, colour) {
  let needed = [];
  string = string.toUpperCase();
  for (let i = 0; i < string.length; i++) {
    const letter = letters[string.charAt(i)];
    if (letter) {
      needed.push(letter);
    }
  }

  context.fillStyle = colour;
  let curX = xx;
  for (let i = 0; i < needed.length; i++) {
    const letter = needed[i];
    let curY = yy;
    let addX = 0;
    for (let y = 0; y < letter.length; y++) {
      const row = letter[y];
      for (let x = 0; x < row.length; x++) {
        if (row[x]) {
          context.fillRect(curX + x * size, curY, size, size);
        }
      }

      addX = Math.max(addX, row.length * size);
      curY += size;
    }
    curX += size + addX;
  }
}

function textBox(text, size, colour) {
  // Two lines
  text = text.split('\\');

  // Box
  context.strokeStyle = 'white';
  context.fillStyle = 'black';
  context.lineWidth = 4;
  context.rect(25, 350, 590, 100);
  context.stroke();
  context.fill();

  // Lines
  drawText(text[0], 4, 35, 360, colour);
  drawText(text[1] || '', 4, 35, 390, colour);
  drawText(text[2] || '', 4, 35, 420, colour);
}
